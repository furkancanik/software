<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Randevularım</title>
  <link rel="stylesheet" href="randevularim.css">
</head>
<body>

<div class="box">
  <h2>Randevularım</h2>
  <div id="notification" class="notification">
  Randevunuz iptal edildi.
</div>


  <div id="appointments">

    <div class="appointment-card">
      <div class="info">
        <p><strong>Alan:</strong> Kardiyoloji</p>
        <p><strong>Doktor:</strong> Dr. Ahmet Yılmaz</p>
        <p><strong>Tarih:</strong> 20.05.2025</p>
        <p><strong>Saat:</strong> 10:30</p>
        <p class="status active">Durum: Aktif</p>
      </div>
      <button class="cancel-btn">İptal Et</button>
    </div>

    <div class="appointment-card">
      <div class="info">
        <p><strong>Alan:</strong> Dahiliye</p>
        <p><strong>Doktor:</strong> Dr. Ayşe Demir</p>
        <p><strong>Tarih:</strong> 10.04.2025</p>
        <p><strong>Saat:</strong> 14:00</p>
        <p class="status past">Durum: Geçmiş</p>
      </div>
      <button class="cancel-btn">İptal Et</button>
    </div>

  </div>

  <div class="back">
    <a href="hasta_dashboard.html">← Hasta Paneline Dön</a>
  </div>
</div>

<div id="cancelModal" class="modal">
  <div class="modal-content">
    <h3>Randevuyu iptal etmek istiyor musunuz?</h3>
    <p>Bu işlem geri alınamaz.</p>

    <div class="modal-buttons">
      <button class="btn-cancel" onclick="closeCancelModal()">Vazgeç</button>
      <button class="btn-danger" onclick="confirmCancel()">Evet, İptal Et</button>
    </div>
  </div>
</div>


<script>
  let selectedCard = null;

  document.querySelectorAll(".cancel-btn").forEach(btn => {
    btn.addEventListener("click", function () {
      selectedCard = this.closest(".appointment-card");
      document.getElementById("cancelModal").style.display = "flex";
    });
  });

  function closeCancelModal() {
    document.getElementById("cancelModal").style.display = "none";
  }

  function confirmCancel() {
    if (selectedCard) {
      selectedCard.remove();
    }

    closeCancelModal();
    showNotification();
  }

  function showNotification() {
    const notif = document.getElementById("notification");
    notif.style.display = "block";

    setTimeout(() => {
      notif.style.display = "none";
    }, 2500);
  }
</script>





</body>
</html>
